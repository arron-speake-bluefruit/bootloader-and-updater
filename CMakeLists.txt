cmake_minimum_required(VERSION 3.21)
project("bootloader-and-updater" VERSION 0.1.0 LANGUAGES C)

option(BUILD_STANDALONE "If enable, build the application using standalone startup code." Off)

add_subdirectory(application)
add_subdirectory(bootloader)
add_subdirectory(drivers/critical_section)
add_subdirectory(drivers/gpio)
add_subdirectory(drivers/linker_script_application)
add_subdirectory(drivers/linker_script_bootloader)
add_subdirectory(drivers/linker_script_standalone)
add_subdirectory(drivers/rcc)
add_subdirectory(drivers/scb)
add_subdirectory(drivers/startup)
add_subdirectory(drivers/syscfg)
add_subdirectory(drivers/usart)
